<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Meteo Pisa</title>
</head>
<body>
  <h2>Dati Meteo Pisa</h2>
  <div id="weather">Caricamento...</div>

  <script>
    async function loadWeather() {
      try {
        const response = await fetch("http://localhost:5000/weather");
        const data = await response.json();

        document.getElementById("weather").innerHTML = `
          <p>ğŸŒ¡ï¸ Temperatura: ${data.temperatura}</p>
          <p>ğŸ’§ UmiditÃ : ${data.umidita}</p>
          <p>ğŸ“Š Pressione: ${data.pressione}</p>
          <p>â˜€ï¸ Radiazione: ${data.radiazione}</p>
          <p>ğŸ’¨ Vento: ${data.vento}</p>
          <small>Aggiornato: ${new Date().toLocaleTimeString()}</small>
        `;
      } catch (err) {
        document.getElementById("weather").textContent = "Errore nel caricamento.";
        console.error(err);
      }
    }

    loadWeather();
    setInterval(loadWeather, 120000); // aggiorna ogni 2 minuti
  </script>
</body>
</html>
